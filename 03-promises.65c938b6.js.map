{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,QAASC,SAASC,cAAc,qBAChCC,OAAQF,SAASC,cAAc,oBAC/BE,SAAUH,SAASC,cAAc,sBACjCG,OAAQJ,SAASC,cAAc,UAsChC,SAASI,EAAcC,EAAUC,GAE9B,IAAMC,EAAgBC,KAAKC,SAAW,GASxC,OAPkB,IAAIC,SAAQ,SAACC,EAASC,GAClCL,EACFI,EAAQ,CAACN,WAAUC,UAEnBM,EAAO,CAACP,WAAUC,S,GAElBA,E,CA7CNT,EAAKM,OAAOU,iBAAiB,UAE7B,SAAuBC,G,kBAQF,IAAbC,GACDC,YAAW,WACVZ,EAAcW,EAAUE,GACrBC,MAAK,SAAAC,G,IAAGd,EAAQc,EAARd,SAAUC,EAAKa,EAALb,MACjBc,EAAAzB,GAAS0B,OAAOC,QAAQ,uBAAwCC,OAAflB,EAAS,QAAYkB,OAANjB,EAAM,M,IAEvEkB,OAAM,SAAAL,G,IAAGd,EAAQc,EAARd,SAAUC,EAAKa,EAALb,MAClBc,EAAAzB,GAAS0B,OAAOI,QAAQ,sBAAuCF,OAAflB,EAAS,QAAYkB,OAANjB,EAAM,M,MAExEW,GAEDF,EAAW,GACbC,YAAW,WAETZ,EAAcW,EADdE,GAASS,GAENR,MAAK,SAAAC,G,IAAGd,EAAQc,EAARd,SAAUC,EAAKa,EAALb,MACjBc,EAAAzB,GAAS0B,OAAOC,QAAQ,uBAAwCC,OAAflB,EAAS,QAAYkB,OAANjB,EAAM,M,IAEvEkB,OAAM,SAAAL,G,IAAGd,EAAQc,EAARd,SAAUC,EAAKa,EAALb,MAClBc,EAAAzB,GAAS0B,OAAOI,QAAQ,sBAAqCF,OAAflB,EAAS,QAAYkB,OAANjB,EAAM,M,MAEtEW,E,EA5BPH,EAAMa,iBAMN,IALA,IAAIV,EAAQW,OAAO/B,EAAKC,QAAQ+B,OAC5BH,EAAOE,OAAO/B,EAAKI,OAAO4B,OAC1BC,EAASF,OAAO/B,EAAKK,SAAS2B,OAGzBE,EAAW,EAAGA,GAAYD,EAAQC,GAAY,EAACC,EAAAD,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  delayEl: document.querySelector(\"input[data-delay]\"),\n  stepEl: document.querySelector(\"input[data-step]\"),\n  amountEl: document.querySelector(\"input[data-amount]\"),\n  formEl: document.querySelector(\".form\"),\n}\n\nrefs.formEl.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) { \n  event.preventDefault();\n  let delay = Number(refs.delayEl.value);\n  let step = Number(refs.stepEl.value);\n  let amount = Number(refs.amountEl.value);\n\n  \n  for (let position = 1; position <= amount; position += 1) { \n    if (position === 1) { \n       setTimeout(() => {\n        createPromise(position, delay)\n          .then(({ position, delay }) => {\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n      }, delay)\n    }\n    if (position > 1) {\n      setTimeout(() => {\n        delay += step;\n        createPromise(position, delay)\n          .then(({ position, delay }) => {\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n      }, delay)\n    } \n    }\n  }\n function createPromise(position, delay) {\n   \n    const shouldResolve = Math.random() > 0.3;\n   \n    const promise = new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({position, delay});\n    } else {\n      reject({position, delay});\n    }\n   }, delay);\n  return promise;\n    \n   }\n   \n  \n\n\n\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","delayEl","document","querySelector","stepEl","amountEl","formEl","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","event","position1","setTimeout","delay1","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","step","preventDefault","Number","value","amount","position11","_loop"],"version":3,"file":"03-promises.65c938b6.js.map"}